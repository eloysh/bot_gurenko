<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Creator Mini App</title>
  <link rel="stylesheet" href="/webapp/style.css"/>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
  <div class="wrap">
    <header class="top">
      <div>
        <div class="h1">Creator Mini App</div>
        <div class="sub" id="userLine">…</div>
      </div>
      <div class="badge" id="statusBadge">OK</div>
    </header>

    <nav class="tabs">
      <button class="tab active" data-tab="chat">Chat</button>
      <button class="tab" data-tab="image">Фото</button>
      <button class="tab" data-tab="video">Видео</button>
      <button class="tab" data-tab="music">Музыка</button>
    </nav>

    <!-- CHAT -->
    <section class="panel" id="panel-chat">
      <div class="row">
        <label>Модель</label>
        <select id="chatModel"></select>
      </div>

      <textarea id="chatInput" placeholder="Напиши сообщение…"></textarea>
      <button class="btn" id="chatSend">Отправить</button>

      <div class="out" id="chatOut"></div>
    </section>

    <!-- IMAGE -->
    <section class="panel hidden" id="panel-image">
      <div class="row">
        <label>Модель</label>
        <select id="imageModel"></select>
      </div>

      <textarea id="imagePrompt" placeholder="Промпт для картинки…"></textarea>
      <button class="btn" id="imageSend">Сгенерировать</button>

      <div class="out" id="imageOut"></div>
    </section>

    <!-- VIDEO -->
    <section class="panel hidden" id="panel-video">
      <div class="row">
        <label>Модель</label>
        <select id="videoModel"></select>
      </div>

      <textarea id="videoPrompt" placeholder="Промпт для видео…"></textarea>
      <button class="btn" id="videoSend">Сгенерировать</button>

      <div class="out" id="videoOut"></div>
    </section>

    <!-- MUSIC -->
    <section class="panel hidden" id="panel-music">
      <div class="row">
        <label>Модель</label>
        <select id="musicModel"></select>
      </div>

      <textarea id="musicLyrics" placeholder="Текст песни (lyrics)…"></textarea>
      <input id="musicStyle" class="input" placeholder="Стиль (опционально)"/>
      <button class="btn" id="musicSend">Сгенерировать</button>

      <div class="out" id="musicOut"></div>
    </section>

    <footer class="foot">
      <div class="hint">Если что-то не грузится — значит /api/me падает или нет APIFREE_API_KEY.</div>
    </footer>
  </div>

  <script src="/webapp/app.js"></script>
</body>
</html>
